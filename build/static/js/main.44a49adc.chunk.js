(this["webpackJsonpbloglist-ui"]=this["webpackJsonpbloglist-ui"]||[]).push([[0],{40:function(e,t,n){e.exports=n(69)},45:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(20),c=n.n(l),o=(n(45),n(17)),s=n(5),u=n(9);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var m=a.a.createElement("path",{d:"M0 .182h9.734v42.263H0z"}),d=a.a.createElement("path",{d:"M16.594 14.906h9.734v27.54h-9.734zm-.99-9.094a5.57 5.57 0 0 1 1.714-4.113C18.46.566 19.837 0 21.447 0c1.67 0 3.064.556 4.187 1.67s1.684 2.494 1.684 4.143a5.74 5.74 0 0 1-1.714 4.202 5.63 5.63 0 0 1-4.157 1.729c-1.6 0-2.96-.586-4.113-1.758s-1.73-2.564-1.73-4.173z"}),p=a.a.createElement("path",{d:"M33.26 42.445v-27.54h8.9v5.6c1.3-2.236 2.78-3.872 4.472-4.908s3.717-1.555 6.08-1.555c1.782 0 3.368.287 4.758.86s2.523 1.395 3.395 2.468c.727.927 1.245 2.054 1.554 3.38s.464 3.308.464 5.944v15.76H53.14v-14.75c0-2.2-.36-3.8-1.077-4.8s-1.868-1.5-3.45-1.5c-2.017 0-3.5.746-4.417 2.236s-1.4 3.908-1.4 7.253v11.56H33.26zm36.5 0V.182h9.543V26.93L89.32 14.906h12.052l-12.38 13.25 13.497 14.288H89.703L79.313 30.2v12.243H69.77zm35.802 0v-27.54h9.162v6.5c.945-2.363 2.236-4.135 3.872-5.317s3.617-1.772 5.944-1.772l1.158.04 1.187.123-.927 8.834c-.582-.2-1.155-.345-1.718-.436a10.27 10.27 0 0 0-1.636-.137c-2.363 0-4.186.723-5.467 2.168s-1.922 3.495-1.922 6.15v11.397h-9.653z"}),b=a.a.createElement("path",{d:"M159.146 42.445c-9.37-2.203-16.355-10.623-16.355-20.66 0-11.713 9.51-21.222 21.223-21.222s21.222 9.51 21.222 21.222c0 10.038-6.984 18.458-16.355 20.66V32.358c3.995-1.844 6.77-5.887 6.77-10.574 0-6.423-5.215-11.638-11.638-11.638s-11.64 5.215-11.64 11.638c0 4.687 2.776 8.73 6.77 10.574v10.087z"}),v=function(e){var t=e.svgRef,n=e.title,r=f(e,["svgRef","title"]);return a.a.createElement("svg",i({viewBox:"0 0 186 43",strokeLinejoin:"round",strokeMiterlimit:2,fill:"currentColor",ref:t},r),n?a.a.createElement("title",null,n):null,m,d,p,b)},h=a.a.forwardRef((function(e,t){return a.a.createElement(v,i({svgRef:t},e))})),g=(n.p,n(3)),x=function(e){var t=e.look,n=void 0===t?"":t,r=e.text,l=void 0===r?"":r,c="green"===n?"absolute inset-x-0 bottom-0 -mb-4 ml-2 sm:ml-0 p-2 border-l-4 border-green-500 bg-green-500 bg-opacity-25":"absolute inset-x-0 bottom-0 -mb-4 ml-2 sm:ml-0 p-2 border-l-4 border-red-500 bg-red-500 bg-opacity-25";return a.a.createElement("div",{className:c},a.a.createElement("span",{className:"text-sm font-display font-semibold text-dark"},l))};function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var O=a.a.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),k=a.a.createElement("polyline",{points:"16 17 21 12 16 7"}),w=a.a.createElement("line",{x1:21,y1:12,x2:9,y2:12}),j=function(e){var t=e.svgRef,n=e.title,r=y(e,["svgRef","title"]);return a.a.createElement("svg",E({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",ref:t},r),n?a.a.createElement("title",null,n):null,O,k,w)},N=a.a.forwardRef((function(e,t){return a.a.createElement(j,E({svgRef:t},e))})),R=(n.p,function(e){var t=e.func;return a.a.createElement("button",{className:"p-2 text-l-accent flex items-center hover hover:bg-dark hover:text-light",onClick:t},a.a.createElement("span",{className:"mr-2 font-semibold text-sm"},"logout"),a.a.createElement(N,null))}),C=n(1),T=n.n(C),S=n(4),L=n(15),P=n.n(L),I=function(){var e=Object(S.a)(T.a.mark((function e(){var t,n,r=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"blogs",e.next=3,P.a.get("".concat("/api","/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(S.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.post("".concat("/api","/blogs"),t,{headers:{Authorization:"Bearer ".concat(n)}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(S.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.put("".concat("/api","/blogs/").concat(t.id),t,{headers:{Authorization:"Bearer ".concat(n)}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(S.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.post("".concat("/api","/login"),{username:t,password:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(S.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.post("".concat("/api","/users"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(S.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.delete("".concat("/api","/blogs/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"green";return{text:e,look:t}},M=function(e,t){return function(){var n=Object(S.a)(T.a.mark((function n(r){var a;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=setTimeout((function(){r({type:"CLEAR_NOTIFICATION"})}),1e3*t),r({type:"SET_NOTIFICATION",notification:e,currentTimeout:a});case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:"",look:"",currentTimeout:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIFICATION":return e.currentTimeout&&clearTimeout(e.currentTimeout),{text:t.notification.text,look:t.notification.look,currentTimeout:t.notification.currentTimeout};case"CLEAR_NOTIFICATION":return{text:"",look:"",currentTimeout:null};default:return e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.data;case"LOGOUT":return null;default:return e}},H=function(){var e=Object(g.b)(),t=Object(g.c)((function(e){return e.notification})),n=Object(g.c)((function(e){return e.currentUser})),r="mr-4 p-2 text-dark font-semibold text-sm flex items-center hover hover:bg-dark hover:text-light rounded-sm";return a.a.createElement("header",{className:"sm:px-0 px-4 py-8 mb-8 mt-8 sm:mt-0 flex flex-col sm:flex-row justify-between items-center w-full relative"},a.a.createElement(h,{className:"text-dark w-32 sm:mb-0 mb-2"}),n&&a.a.createElement("div",{className:"flex items-center"},a.a.createElement(u.c,{to:"/blogs",activeClassName:"text-d-accent",className:r},"blogs"),a.a.createElement(u.c,{to:"/users",activeClassName:"text-d-accent",className:r},"users"),a.a.createElement("span",{className:"mr-2 font-semibold text-sm text-dark"},"hi ",n.name),a.a.createElement(R,{func:function(){return e(function(){var e=Object(S.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.removeItem("user");case 2:t({type:"LOGOUT"}),t(M(B("logged out"),3));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}})),t.text&&a.a.createElement(x,{text:t.text,look:t.look}))},q=n(6),G=function(e){var t=e.text,n=e.look,r=void 0===n?"":n,l=e.func,c=void 0===l?null:l,o=e.type,s=void 0===o?"button":o,u=e.id,i=void 0===u?"":u;return a.a.createElement("button",{onClick:c,className:r,type:s,id:i},t)},V=function(e){var t=Object(r.useState)(""),n=Object(q.a)(t,2),a=n[0],l=n[1];return[{type:e,value:a,onChange:function(e){return l(e.target.value)}},function(){return l("")}]},Y=function(){var e=V("text"),t=Object(q.a)(e,1)[0],n=V("password"),l=Object(q.a)(n,1)[0],c=V("text"),o=Object(q.a)(c,1)[0],u=Object(r.useState)(!1),i=Object(q.a)(u,2),f=i[0],m=i[1],d=Object(g.b)(),p=Object(s.g)();return a.a.createElement("section",{className:"bg-l-accent sm:p-32 p-4 flex justify-center items-center text-dark font-display sm:rounded w-full"},a.a.createElement("form",{onSubmit:f?function(e){e.preventDefault();try{d(function(e,t,n){return function(){var r=Object(S.a)(T.a.mark((function r(a){var l;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,F({username:e,password:t,name:n});case 2:l=r.sent,localStorage.setItem("user",JSON.stringify(l)),a({type:"LOGIN",data:l});case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t.value,l.value,o.value)),p.push("/blogs")}catch(n){n.message.includes("400")?d(M(B("signup failed: username already taken!","red"),3)):d(M(B("signup failed: ".concat(n.message,"!"),"red"),3))}}:function(e){e.preventDefault();try{d(function(e,t){return function(){var n=Object(S.a)(T.a.mark((function n(r){var a;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A(e,t);case 2:a=n.sent,localStorage.setItem("user",JSON.stringify(a)),r({type:"LOGIN",data:a}),r(M(B("login successful - hi, ".concat(a.name,"!")),3));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t.value,l.value)),p.push("/blogs")}catch(n){n.message.includes("401")?d(M(B("login failed: username or password incorrect!","red"),3)):d(M(B("login failed: ".concat(n.message),"red"),3))}},className:"w-full"},a.a.createElement("h3",{className:"mb-8 text-2xl font-semibold w-full"},"Get started"),f&&a.a.createElement("label",{htmlFor:"name",className:"mb-4 flex flex-col w-full"},a.a.createElement("span",{className:"text-sm font-semibold"},"name"),a.a.createElement("input",{type:o.type,name:"name",id:"name",className:"form-input",value:o.value,onChange:o.onChange,required:!0})),a.a.createElement("label",{htmlFor:"username",className:"flex flex-col w-full"},a.a.createElement("span",{className:"text-sm font-semibold"},"username"),a.a.createElement("input",{type:t.type,name:"username",id:"username",className:"form-input",value:t.value,onChange:t.onChange,required:!0})),a.a.createElement("label",{htmlFor:"password",className:"mt-4 flex flex-col w-full"},a.a.createElement("span",{className:"text-sm font-semibold"},"password"),a.a.createElement("input",{type:l.type,name:"password",id:"password",className:"form-input",value:l.value,onChange:l.onChange,required:!0})),a.a.createElement(G,{text:f?"sign up":"login",id:f?"signup":"login",look:"mt-12 px-6 py-2 font-sm font-semibold text-light w-full bg-dark rounded hover:bg-d-accent",type:"submit"}),a.a.createElement(G,{text:f?"go back":"create an account",look:"mt-12 px-6 py-2 font-sm font-semibold text-light w-full rounded hover:bg-light hover:text-dark focus:outline-none",id:f?"goback":"createaccount",func:function(){return m(!f)}})))};function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Q=a.a.createElement("polyline",{points:"17 11 12 6 7 11"}),X=a.a.createElement("polyline",{points:"17 18 12 13 7 18"}),Z=function(e){var t=e.svgRef,n=e.title,r=K(e,["svgRef","title"]);return a.a.createElement("svg",J({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",ref:t},r),n?a.a.createElement("title",null,n):null,Q,X)},$=a.a.forwardRef((function(e,t){return a.a.createElement(Z,J({svgRef:t},e))})),ee=(n.p,n(12)),te=function(e,t,n,r){return{title:e,author:t,url:n,blurb:r}},ne=function(e,t){return function(){var n=Object(S.a)(T.a.mark((function n(r){return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,z(e,t);case 2:r({type:"DEL_ENTRY",data:e});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},re=function(e,t){return function(){var n=Object(S.a)(T.a.mark((function n(r){var a,l;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.likes.includes(t.id)?Object(ee.a)(Object(ee.a)({},e),{},{likes:Object(o.a)(e.likes).filter((function(e){return e!==t.id}))}):Object(ee.a)(Object(ee.a)({},e),{},{likes:Object(o.a)(e.likes).concat(t.id)}),n.next=3,U(a,t.token);case 3:l=n.sent,r({type:"UPDATE_ENTRY",data:Object(ee.a)(Object(ee.a)({},l),{},{user:ae(e)})});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ae=function(e){return{username:e.user.username,id:e.user.id,name:e.user.name}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_ENTRY":return e.concat(t.data);case"DEL_ENTRY":return e.filter((function(e){return e.id!==t.data}));case"UPDATE_ENTRY":return e.map((function(e){return e.id===t.data.id?t.data:e}));case"POPULATE_ENTRIES":return t.data;default:return e}},ce=function(e){var t=e.setShowCreateModal,n=Object(g.b)(),r=Object(g.c)((function(e){return e.currentUser})),l=V("text"),c=Object(q.a)(l,2),o=c[0],s=c[1],u=V("text"),i=Object(q.a)(u,2),f=i[0],m=i[1],d=V("text"),p=Object(q.a)(d,2),b=p[0],v=p[1],h=V("text"),x=Object(q.a)(h,2),E=x[0],y=x[1];return a.a.createElement("form",{onSubmit:function(e){e.preventDefault();try{n(function(e,t,n,r,a){return function(){var l=Object(S.a)(T.a.mark((function l(c){var o;return T.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,_(te(e,t,n,r),a.token);case 2:o=l.sent,c({type:"NEW_ENTRY",data:Object(ee.a)(Object(ee.a)({},o),{},{user:{name:a.name,id:a.id,username:a.username}})});case 4:case"end":return l.stop()}}),l)})));return function(e){return l.apply(this,arguments)}}()}(o.value,f.value,b.value,E.value,r))}catch(a){n(M(B("".concat(a.message),"red"),3))}s(),m(),v(),y(),t(!1)},className:"flex flex-col items-center justify-start w-full bg-l-accent text-dark createmodal"},a.a.createElement("div",{className:"sm:p-16 p-4 w-full"},a.a.createElement("h3",{className:"mb-8 text-2xl font-semibold"},"submit a new entry"),a.a.createElement("label",{htmlFor:"createmodal-title",className:"flex flex-col w-full"},a.a.createElement("span",{className:"text-sm font-semibold"},"title"),a.a.createElement("input",{type:o.type,id:"createmodal-title",className:"form-input titleinput",value:o.value,onChange:o.onChange,required:!0})),a.a.createElement("label",{htmlFor:"createmodal-author",className:"mt-4 flex flex-col w-full"},a.a.createElement("span",{className:"text-sm font-semibold"},"author"),a.a.createElement("input",{type:f.type,id:"createmodal-author",className:"form-input",value:f.value,onChange:f.onChange,required:!0})),a.a.createElement("label",{htmlFor:"createmodal-url",className:"mt-4 flex flex-col w-full"},a.a.createElement("span",{className:"text-sm font-semibold"},"url"),a.a.createElement("input",{type:b.type,id:"createmodal-url",className:"form-input",value:b.value,onChange:b.onChange,required:!0})),a.a.createElement("label",{htmlFor:"createmodal-blurb",className:"mt-4 flex flex-col w-full"},a.a.createElement("span",{className:"text-sm font-semibold"},"blurb"),a.a.createElement("textarea",{type:E.type,id:"createmodal-blurb",className:"form-textarea resize-none",rows:"4",maxLength:"140",value:E.value,onChange:E.onChange,required:!0})),a.a.createElement("div",{className:"flex justify-end w-full"},a.a.createElement(G,{text:"submit",id:"createmodal-submit",look:"mt-12 px-6 py-2 font-sm font-semibold text-light w-1/2 bg-dark rounded hover:bg-d-accent",type:"submit"}))),a.a.createElement("button",{type:"button",id:"createmodal-close",className:"flex items-center justify-center p-2 font-sm font-semibold text-dark w-full hover:bg-dark hover:text-light",onClick:function(){return t(!1)}},a.a.createElement($,null)))};function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function se(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ue=a.a.createElement("polyline",{points:"3 6 5 6 21 6"}),ie=a.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),fe=function(e){var t=e.svgRef,n=e.title,r=se(e,["svgRef","title"]);return a.a.createElement("svg",oe({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",ref:t},r),n?a.a.createElement("title",null,n):null,ue,ie)},me=a.a.forwardRef((function(e,t){return a.a.createElement(fe,oe({svgRef:t},e))})),de=(n.p,function(e){var t=e.func;return a.a.createElement("button",{type:"button",onClick:t,className:"delete-btn relative p-2 text-dark rounded bg-l-accent hover:bg-dark hover:text-light focus:outline-none"},a.a.createElement(me,null))});function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ve=a.a.createElement("circle",{cx:12,cy:12,r:1}),he=a.a.createElement("circle",{cx:12,cy:5,r:1}),ge=a.a.createElement("circle",{cx:12,cy:19,r:1}),xe=function(e){var t=e.svgRef,n=e.title,r=be(e,["svgRef","title"]);return a.a.createElement("svg",pe({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",ref:t},r),n?a.a.createElement("title",null,n):null,ve,he,ge)},Ee=a.a.forwardRef((function(e,t){return a.a.createElement(xe,pe({svgRef:t},e))})),ye=(n.p,function(e){var t=e.func;return a.a.createElement("button",{type:"button",onClick:t,className:"p-2 showdelete-btn text-dark rounded hover:bg-dark hover:text-light focus:outline-none"},a.a.createElement(Ee,null))});function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var we=a.a.createElement("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}),je=function(e){var t=e.svgRef,n=e.title,r=ke(e,["svgRef","title"]);return a.a.createElement("svg",Oe({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6",ref:t},r),n?a.a.createElement("title",null,n):null,we)},Ne=a.a.forwardRef((function(e,t){return a.a.createElement(je,Oe({svgRef:t},e))})),Re=(n.p,function(e){var t=e.func,n=e.likes,r=e.id,l="like-btn ml-2 p-2 text-dark rounded hover:bg-dark hover:text-light focus:outline-none",c=n.includes(r)?"".concat(l," text-d-accent"):l;return a.a.createElement("button",{type:"button",onClick:t,className:c},a.a.createElement(Ne,null))}),Ce=function(e){var t=e.entry,n=Object(g.b)(),l=t.title,c=t.author,o=t.likes,s=t.user,i=t.createdOn,f=t.id,m=Object(g.c)((function(e){return e.currentUser})),d=Object(r.useState)(!1),p=Object(q.a)(d,2),b=p[0],v=p[1];return a.a.createElement("li",{className:"blogentry mb-8 flex flex-col items-start"},a.a.createElement("div",{className:"flex items-center justify-between w-full"},a.a.createElement(u.b,{to:"/blogs/".concat(f),className:"border-l-8 border-l-accent px-2 hover:bg-dark text-dark hover:text-light"},a.a.createElement("h4",{className:"font-semibold font-display text-3xl"},l)),m&&s.id===m.id&&a.a.createElement("div",{className:b?"relative bg-l-accent rounded-b":"relative"},b&&a.a.createElement("div",{className:"fixed bg-transparent inset-0 z-0",onClick:function(){return v(!1)}}),a.a.createElement(ye,{func:function(){return v(!b)}}),b&&a.a.createElement("div",{className:"absolute -mt-10 left-0 top-0 bg-l-accent rounded-t"},a.a.createElement(de,{func:function(){return function(e){try{n(ne(e,m.token)),n(M(B("deleted entry","red"),3))}catch(t){n(M(B("action failed: ".concat(t.message,"!"),"red"),3))}}(f)}})))),a.a.createElement("div",{className:"flex justify-between items-center w-full"},a.a.createElement("h5",{className:"font-semibold font-display text-dark text-lg"},"by ",c),a.a.createElement("div",{className:"flex items-center"},a.a.createElement("span",{className:"font-semibold text-dark"},o.length||"0"," ",o.length>1||!o.length?"likes":"like"),a.a.createElement(Re,{func:function(){return function(e){try{n(re(e,m))}catch(t){n(M(B("action failed: ".concat(t.message,"!"),"red"),3))}}(t)},likes:o,id:m.id}))),a.a.createElement("div",{className:"w-full flex justify-between"},a.a.createElement("span",{className:"text-xs text-dark"},"Posted by ",s.name," on ",i.split("T")[0])))};function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Le=a.a.createElement("polyline",{points:"7 13 12 18 17 13"}),Pe=a.a.createElement("polyline",{points:"7 6 12 11 17 6"}),Ie=function(e){var t=e.svgRef,n=e.title,r=Se(e,["svgRef","title"]);return a.a.createElement("svg",Te({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6",ref:t},r),n?a.a.createElement("title",null,n):null,Le,Pe)},_e=a.a.forwardRef((function(e,t){return a.a.createElement(Ie,Te({svgRef:t},e))})),Ue=(n.p,function(e){var t=e.func;return a.a.createElement("div",{className:"w-full"},a.a.createElement("button",{type:"button",id:"createmodal-open",className:"p-2 flex justify-center font-sm font-semibold text-dark w-full bg-l-accent hover:bg-dark hover:text-light",onClick:t},a.a.createElement(_e,null)))}),Ae=function(e){return{type:e?"FILTER_LIKES":"FILTER_RECENT"}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_LIKES":return!0;case"FILTER_RECENT":return!1;default:return e}},ze=function(){var e=Object(g.c)((function(e){return e.showLiked})),t=Object(g.b)(),n="font-sm font-semibold text-dark hover:bg-dark hover:text-light px-2 focus:outline-none";return a.a.createElement("div",{className:"mt-8 flex items-center justify-evenly w-full p-2"},a.a.createElement("button",{className:e?"".concat(n):"".concat(n," text-d-accent"),type:"button",id:"filter-recent",onClick:function(){return t(Ae(!1))}},"most recent"),a.a.createElement("button",{className:e?"".concat(n," text-d-accent"):"".concat(n),type:"button",id:"filter-liked",onClick:function(){return t(Ae(!0))}},"top liked"))},Be=function(e){var t=e.children;return a.a.createElement("section",{className:"flex flex-col justify-start items-center text-dark font-display sm:rounded px-2 sm:px-0"},t)},Me=function(e){var t=e.blogEntries,n=Object(r.useState)(!1),l=Object(q.a)(n,2),c=l[0],o=l[1];return a.a.createElement(Be,null,c?a.a.createElement(ce,{setShowCreateModal:o}):a.a.createElement(Ue,{func:function(){return o(!0)}}),a.a.createElement(ze,null),a.a.createElement("ul",{className:"py-8 flex flex-col w-full"},t.map((function(e){return a.a.createElement(Ce,{key:e.id,entry:e})}))))},We=function(e){var t=e.user;return a.a.createElement("li",{className:"mb-8 flex"},a.a.createElement("div",{className:"flex items-center justify-between w-full"},a.a.createElement(u.b,{to:"/users/".concat(t.id),className:"border-l-8 border-l-accent px-2 hover:bg-dark text-dark hover:text-light"},a.a.createElement("h4",{className:"font-semibold font-display text-2xl"},t.username)),a.a.createElement("span",{className:"font-semibold text-dark"},"posts: ",t.blogEntries.length)))},De=function(e){var t=e.users;return a.a.createElement(Be,null,a.a.createElement("h1",{className:"w-full text-3xl font-semibold text-dark border-b-4 border-l-accent"},"Users"),a.a.createElement("ul",{className:"py-8 flex flex-col w-full"},t.map((function(e){return a.a.createElement(We,{key:e.id,user:e})}))))},He=function(e){var t=e.user;return a.a.createElement(Be,null,a.a.createElement("div",{className:"py-8 flex items-center justify-between w-full"},a.a.createElement("div",{className:"border-l-8 border-l-accent px-2 text-dark"},a.a.createElement("h1",{className:"font-semibold font-display text-3xl"},t.username))),a.a.createElement("div",{className:"flex justify-between items-center w-full"},a.a.createElement("h2",{className:"font-semibold font-display text-dark text-lg"},"aka ",t.name),a.a.createElement("span",{className:"text-sm font-medium text-dark"},"Total posts: ",t.blogEntries.length)),a.a.createElement("div",{className:"mt-8 pt-4 border-t-4 border-l-accent w-full flex sm:flex-none sm:grid sm:grid-cols-2 sm:gap-x-8"},a.a.createElement("div",null,a.a.createElement("h3",{className:"font-semibold font-display text-dark text-lg"},"Entries:"," ")),a.a.createElement("ul",null,t.blogEntries.map((function(e){return a.a.createElement(u.b,{key:e.id,to:"/blogs/".concat(e.id),className:"block hover:text-d-accent text-dark px-2"},a.a.createElement("li",{className:"font-semibold font-display text-lg"},e.title))})))))};function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ve=a.a.createElement("line",{x1:5,y1:12,x2:19,y2:12}),Ye=a.a.createElement("polyline",{points:"12 5 19 12 12 19"}),Je=function(e){var t=e.svgRef,n=e.title,r=Ge(e,["svgRef","title"]);return a.a.createElement("svg",qe({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-right",ref:t},r),n?a.a.createElement("title",null,n):null,Ve,Ye)},Ke=a.a.forwardRef((function(e,t){return a.a.createElement(Je,qe({svgRef:t},e))}));n.p;function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ze=a.a.createElement("line",{x1:22,y1:2,x2:11,y2:13}),$e=a.a.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"}),et=function(e){var t=e.svgRef,n=e.title,r=Xe(e,["svgRef","title"]);return a.a.createElement("svg",Qe({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-send",ref:t},r),n?a.a.createElement("title",null,n):null,Ze,$e)},tt=a.a.forwardRef((function(e,t){return a.a.createElement(et,Qe({svgRef:t},e))})),nt=(n.p,function(e){var t=e.entry,n=Object(g.b)(),l=t.title,c=t.author,o=t.url,s=t.likes,u=t.blurb,i=t.user,f=t.createdOn,m=t.id,d=t.comments,p=Object(g.c)((function(e){return e.currentUser})),b=Object(r.useState)(!1),v=Object(q.a)(b,2),h=v[0],x=v[1],E=V("text"),y=Object(q.a)(E,2),O=y[0],k=y[1],w=function(e,t){e.preventDefault();try{n(function(e,t,n){return function(){var r=Object(S.a)(T.a.mark((function r(a){var l,c;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=Object(ee.a)(Object(ee.a)({},e),{},{comments:e.comments.concat(t)}),r.next=3,U(l,n);case 3:c=r.sent,a({type:"UPDATE_ENTRY",data:Object(ee.a)(Object(ee.a)({},c),{},{user:ae(e)})});case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,O.value,p.token)),k()}catch(r){n(M(B("action failed: ".concat(r.message,"!"),"red"),3))}};return a.a.createElement(Be,null,a.a.createElement("div",{className:"flex items-center justify-between w-full"},a.a.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"border-l-8 border-l-accent px-2 hover:bg-dark text-dark hover:text-light"},a.a.createElement("h4",{className:"font-semibold font-display text-3xl"},l)),p&&i.id===p.id&&a.a.createElement("div",{className:h?"relative bg-l-accent rounded-b":"relative"},h&&a.a.createElement("div",{className:"fixed bg-transparent inset-0 z-0",onClick:function(){return x(!1)}}),a.a.createElement(ye,{func:function(){return x(!h)}}),h&&a.a.createElement("div",{className:"absolute -mt-10 left-0 top-0 bg-l-accent rounded-t"},a.a.createElement(de,{func:function(){return function(e){try{n(ne(e,p.token)),n(M(B("deleted entry","red"),3))}catch(t){n(M(B("action failed: ".concat(t.message,"!"),"red"),3))}}(m)}})))),a.a.createElement("div",{className:"flex justify-between items-center w-full"},a.a.createElement("h5",{className:"font-semibold font-display text-dark text-lg"},"by ",c),a.a.createElement("div",{className:"flex items-center"},a.a.createElement("span",{className:"font-semibold text-dark"},s.length||"0"," ",s.length>1||!s.length?"likes":"like"),a.a.createElement(Re,{func:function(){return function(e){try{n(re(e,p))}catch(t){n(M(B("action failed: ".concat(t.message,"!"),"red"),3))}}(t)},likes:s,id:p.id}))),a.a.createElement("div",{className:"mt-8 mb-4 w-full flex justify-between"},a.a.createElement("p",{className:"leading-relaxed text-dark"},u," ",a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:o,className:"ml-2 pl-1 text-sm font-semibold hover:bg-dark hover:text-light text-dark inline-flex items-center"},"Read more",a.a.createElement(Ke,{className:"inline"})))),a.a.createElement("div",{className:"w-full flex justify-between"},a.a.createElement("span",{className:"text-xs text-dark"},"Posted by ",i.name," on ",f.split("T")[0])),a.a.createElement("div",{className:"mt-8 pt-4 border-t-1 border-l-accent w-full flex flex-col"},d.map((function(e,t){return a.a.createElement("span",{key:t,className:"my-4 border-l-8 pl-2 font-medium border-l-accent text-sm text-dark"},e)}))),a.a.createElement("form",{action:"#",className:"mt-4 w-full flex",onSubmit:function(e){return w(e,t)}},a.a.createElement("input",Object.assign({},O,{className:"form-input flex-grow",placeholder:"Write a comment..."})),a.a.createElement("button",{className:"border-none hover:bg-dark hover:text-light text-dark p-2"},a.a.createElement(tt,null))))}),rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POPULATE_USERS":return t.data;default:return e}},at=function(){var e=Object(g.b)(),t=Object(g.c)((function(e){return e.currentUser})),n=Object(g.c)((function(e){return e.entries})),l=Object(g.c)((function(e){return e.users})),c=Object(g.c)((function(e){return e.showLiked})),u=Object(s.h)("/blogs/:id"),i=Object(s.h)("/users/:id"),f=u?n.find((function(e){return e.id===u.params.id})):null,m=i?l.find((function(e){return e.id===i.params.id})):null;Object(r.useEffect)((function(){try{e(function(){var e=Object(S.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("user")){e.next=3;break}return e.abrupt("return");case 3:t({type:"LOGIN",data:JSON.parse(n)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(S.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:n=e.sent,t({type:"POPULATE_ENTRIES",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(S.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("users");case 2:n=e.sent,t({type:"POPULATE_USERS",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(t){e(M(B("".concat(t.message),"red"),3))}}),[e]);var d=c?Object(o.a)(n).sort((function(e,t){return t.likes.length-e.likes.length})):Object(o.a)(n).reverse();return a.a.createElement("main",{className:"sm:p-8 bg-light w-full min-h-screen flex justify-center"},a.a.createElement("div",{className:"max-w-screen-sm w-full"},a.a.createElement(H,null),a.a.createElement(s.d,null,a.a.createElement(s.b,{path:"/login"},a.a.createElement(Y,null)),a.a.createElement(s.b,{path:"/users/:id",render:function(){return t&&m?a.a.createElement(He,{user:m}):a.a.createElement(Y,null)}}),a.a.createElement(s.b,{path:"/users",render:function(){return t?a.a.createElement(De,{users:l}):a.a.createElement(Y,null)}}),a.a.createElement(s.b,{path:"/blogs/:id",render:function(){return t&&f?a.a.createElement(nt,{entry:f}):a.a.createElement(Y,null)}}),a.a.createElement(s.b,{path:"/blogs",render:function(){return t?a.a.createElement(Me,{blogEntries:d}):a.a.createElement(Y,null)}}),a.a.createElement(s.b,{path:"/",render:function(){return t?a.a.createElement(s.a,{to:{pathname:"/blogs",state:{from:"/"}}}):a.a.createElement(Y,null)}}))))},lt=n(14),ct=n(38),ot=n(39),st=Object(lt.combineReducers)({entries:le,showLiked:Fe,currentUser:D,notification:W,users:rt}),ut=Object(lt.createStore)(st,Object(ot.composeWithDevTools)(Object(lt.applyMiddleware)(ct.a)));c.a.render(a.a.createElement(g.a,{store:ut},a.a.createElement(u.a,null,a.a.createElement(at,null))),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.44a49adc.chunk.js.map