(this["webpackJsonpbloglist-ui"]=this["webpackJsonpbloglist-ui"]||[]).push([[0],{20:function(e,t,n){e.exports=n(44)},25:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(19),o=n.n(l),c=(n(25),n(9)),s=n(1),u=n.n(s),i=n(7),f=n(4),m=n(2);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var b=a.a.createElement("path",{d:"M0 .182h9.734v42.263H0z"}),v=a.a.createElement("path",{d:"M16.594 14.906h9.734v27.54h-9.734zm-.99-9.094a5.57 5.57 0 0 1 1.714-4.113C18.46.566 19.837 0 21.447 0c1.67 0 3.064.556 4.187 1.67s1.684 2.494 1.684 4.143a5.74 5.74 0 0 1-1.714 4.202 5.63 5.63 0 0 1-4.157 1.729c-1.6 0-2.96-.586-4.113-1.758s-1.73-2.564-1.73-4.173z"}),h=a.a.createElement("path",{d:"M33.26 42.445v-27.54h8.9v5.6c1.3-2.236 2.78-3.872 4.472-4.908s3.717-1.555 6.08-1.555c1.782 0 3.368.287 4.758.86s2.523 1.395 3.395 2.468c.727.927 1.245 2.054 1.554 3.38s.464 3.308.464 5.944v15.76H53.14v-14.75c0-2.2-.36-3.8-1.077-4.8s-1.868-1.5-3.45-1.5c-2.017 0-3.5.746-4.417 2.236s-1.4 3.908-1.4 7.253v11.56H33.26zm36.5 0V.182h9.543V26.93L89.32 14.906h12.052l-12.38 13.25 13.497 14.288H89.703L79.313 30.2v12.243H69.77zm35.802 0v-27.54h9.162v6.5c.945-2.363 2.236-4.135 3.872-5.317s3.617-1.772 5.944-1.772l1.158.04 1.187.123-.927 8.834c-.582-.2-1.155-.345-1.718-.436a10.27 10.27 0 0 0-1.636-.137c-2.363 0-4.186.723-5.467 2.168s-1.922 3.495-1.922 6.15v11.397h-9.653z"}),g=a.a.createElement("path",{d:"M159.146 42.445c-9.37-2.203-16.355-10.623-16.355-20.66 0-11.713 9.51-21.222 21.223-21.222s21.222 9.51 21.222 21.222c0 10.038-6.984 18.458-16.355 20.66V32.358c3.995-1.844 6.77-5.887 6.77-10.574 0-6.423-5.215-11.638-11.638-11.638s-11.64 5.215-11.64 11.638c0 4.687 2.776 8.73 6.77 10.574v10.087z"}),x=function(e){var t=e.svgRef,n=e.title,r=d(e,["svgRef","title"]);return a.a.createElement("svg",p({viewBox:"0 0 186 43",strokeLinejoin:"round",strokeMiterlimit:2,fill:"currentColor",ref:t},r),n?a.a.createElement("title",null,n):null,b,v,h,g)},y=a.a.forwardRef((function(e,t){return a.a.createElement(x,p({svgRef:t},e))}));n.p;function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var O=a.a.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),w=a.a.createElement("polyline",{points:"16 17 21 12 16 7"}),j=a.a.createElement("line",{x1:21,y1:12,x2:9,y2:12}),N=function(e){var t=e.svgRef,n=e.title,r=E(e,["svgRef","title"]);return a.a.createElement("svg",k({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",ref:t},r),n?a.a.createElement("title",null,n):null,O,w,j)},S=a.a.forwardRef((function(e,t){return a.a.createElement(N,k({svgRef:t},e))})),R=(n.p,function(e){var t=e.look,n=void 0===t?"":t,r=e.text,l=void 0===r?"":r,o="green"===n?"absolute inset-x-0 bottom-0 -mb-4 ml-2 sm:ml-0 p-2 border-l-4 border-green-500 bg-green-500 bg-opacity-25":"absolute inset-x-0 bottom-0 -mb-4 ml-2 sm:ml-0 p-2 border-l-4 border-red-500 bg-red-500 bg-opacity-25";return a.a.createElement("div",{className:o},a.a.createElement("span",{className:"text-sm font-display font-semibold text-dark"},l))}),C=function(e){var t=e.logout,n=e.username,r=e.notification;return a.a.createElement("header",{className:"sm:px-0 px-4 py-8 mb-8 mt-8 sm:mt-0 flex flex-col sm:flex-row justify-between items-center w-full relative"},a.a.createElement(y,{className:"text-dark w-32 sm:mb-0 mb-2"}),n&&a.a.createElement("div",{className:"flex items-center"},a.a.createElement("span",{className:"mr-2 font-semibold text-sm text-dark"},"hi ",n),a.a.createElement("button",{className:"p-2 text-l-accent flex items-center hover hover:bg-dark hover:text-light",onClick:t},a.a.createElement("span",{className:"mr-2 font-semibold text-sm"},"logout"),a.a.createElement(S,null))),r&&a.a.createElement(R,{text:r.text,look:r.look}))},L=function(e){var t=e.text,n=e.look,r=void 0===n?"":n,l=e.func,o=void 0===l?null:l,c=e.type,s=void 0===c?"button":c,u=e.id,i=void 0===u?"":u;return a.a.createElement("button",{onClick:o,className:r,type:s,id:i},t)},I=function(e){var t=e.setLogin,n=e.setSignup,l=Object(r.useState)(""),o=Object(m.a)(l,2),c=o[0],s=o[1],u=Object(r.useState)(""),i=Object(m.a)(u,2),f=i[0],p=i[1],d=Object(r.useState)(""),b=Object(m.a)(d,2),v=b[0],h=b[1],g=Object(r.useState)(!1),x=Object(m.a)(g,2),y=x[0],k=x[1];return a.a.createElement("section",{className:"bg-l-accent sm:p-32 p-4 flex justify-center items-center text-dark font-display sm:rounded w-full"},a.a.createElement("form",{onSubmit:y?function(e){e.preventDefault(),n(c,f,v)}:function(e){e.preventDefault(),t(c,f)},className:"w-full"},a.a.createElement("h3",{className:"mb-8 text-2xl font-semibold w-full"},"Get started"),y&&a.a.createElement("label",{htmlFor:"name",className:"mb-4 flex flex-col w-full"},a.a.createElement("span",{className:"text-sm font-semibold"},"name"),a.a.createElement("input",{type:"text",name:"name",id:"name",className:"form-input",value:v,onChange:function(e){return h(e.target.value)},required:!0})),a.a.createElement("label",{htmlFor:"username",className:"flex flex-col w-full"},a.a.createElement("span",{className:"text-sm font-semibold"},"username"),a.a.createElement("input",{type:"text",name:"username",id:"username",className:"form-input",value:c,onChange:function(e){return s(e.target.value)},required:!0})),a.a.createElement("label",{htmlFor:"password",className:"mt-4 flex flex-col w-full"},a.a.createElement("span",{className:"text-sm font-semibold"},"password"),a.a.createElement("input",{type:"password",name:"password",id:"password",className:"form-input",value:f,onChange:function(e){return p(e.target.value)},required:!0})),a.a.createElement(L,{text:y?"sign up":"login",id:y?"signup":"login",look:"mt-12 px-6 py-2 font-sm font-semibold text-light w-full bg-dark rounded hover:bg-d-accent",type:"submit"}),a.a.createElement(L,{text:y?"go back":"create an account",look:"mt-12 px-6 py-2 font-sm font-semibold text-light w-full rounded hover:bg-light hover:text-dark focus:outline-none",id:y?"goback":"createaccount",func:function(){return k(!y)}})))};function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var z=a.a.createElement("polyline",{points:"17 11 12 6 7 11"}),M=a.a.createElement("polyline",{points:"17 18 12 13 7 18"}),H=function(e){var t=e.svgRef,n=e.title,r=B(e,["svgRef","title"]);return a.a.createElement("svg",P({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",ref:t},r),n?a.a.createElement("title",null,n):null,z,M)},D=a.a.forwardRef((function(e,t){return a.a.createElement(H,P({svgRef:t},e))})),V=(n.p,function(e){var t=e.createBlogEntry,n=e.titleInput,r=e.authorInput,l=e.urlInput,o=e.cancelCreateEntry,c=e.setTitleInput,s=e.setAuthorInput,u=e.setUrlInput;return a.a.createElement("form",{onSubmit:t,className:"flex flex-col items-center justify-start w-full bg-l-accent text-dark createmodal"},a.a.createElement("div",{className:"sm:p-16 p-4 w-full"},a.a.createElement("h3",{className:"mb-8 text-2xl font-semibold"},"submit a new entry"),a.a.createElement("label",{htmlFor:"createmodal-title",className:"flex flex-col w-full"},a.a.createElement("span",{className:"text-sm font-semibold"},"title"),a.a.createElement("input",{type:"text",id:"createmodal-title",className:"form-input titleinput",value:n,onChange:function(e){var t=e.target;return c(t.value)},required:!0})),a.a.createElement("label",{htmlFor:"createmodal-author",className:"mt-4 flex flex-col w-full"},a.a.createElement("span",{className:"text-sm font-semibold"},"author"),a.a.createElement("input",{type:"text",id:"createmodal-author",className:"form-input",value:r,onChange:function(e){var t=e.target;return s(t.value)},required:!0})),a.a.createElement("label",{htmlFor:"createmodal-url",className:"mt-4 flex flex-col w-full"},a.a.createElement("span",{className:"text-sm font-semibold"},"url"),a.a.createElement("input",{type:"text",id:"createmodal-url",className:"form-input",value:l,onChange:function(e){var t=e.target;return u(t.value)},required:!0})),a.a.createElement("div",{className:"flex justify-end w-full"},a.a.createElement(L,{text:"submit",id:"createmodal-submit",look:"mt-12 px-6 py-2 font-sm font-semibold text-light w-1/2 bg-dark rounded hover:bg-d-accent",type:"submit"}))),a.a.createElement("button",{type:"button",id:"createmodal-close",className:"flex items-center justify-center p-2 font-sm font-semibold text-dark w-full hover:bg-dark hover:text-light",onClick:o},a.a.createElement(D,null)))});function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var U=a.a.createElement("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}),W=function(e){var t=e.svgRef,n=e.title,r=F(e,["svgRef","title"]);return a.a.createElement("svg",q({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6",ref:t},r),n?a.a.createElement("title",null,n):null,U)},A=a.a.forwardRef((function(e,t){return a.a.createElement(W,q({svgRef:t},e))}));n.p;function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var G=a.a.createElement("circle",{cx:12,cy:12,r:1}),_=a.a.createElement("circle",{cx:12,cy:5,r:1}),K=a.a.createElement("circle",{cx:12,cy:19,r:1}),Q=function(e){var t=e.svgRef,n=e.title,r=T(e,["svgRef","title"]);return a.a.createElement("svg",J({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",ref:t},r),n?a.a.createElement("title",null,n):null,G,_,K)},X=a.a.forwardRef((function(e,t){return a.a.createElement(Q,J({svgRef:t},e))}));n.p;function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var $=a.a.createElement("polyline",{points:"3 6 5 6 21 6"}),ee=a.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),te=function(e){var t=e.svgRef,n=e.title,r=Z(e,["svgRef","title"]);return a.a.createElement("svg",Y({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",ref:t},r),n?a.a.createElement("title",null,n):null,$,ee)},ne=a.a.forwardRef((function(e,t){return a.a.createElement(te,Y({svgRef:t},e))})),re=(n.p,function(e){var t=e.title,n=e.author,l=e.url,o=e.likes,c=e.user,s=e.currentUser,u=e.createdOn,i=e.sendDeleteEntry,f=e.sendNewLike,p=Object(r.useState)(!1),d=Object(m.a)(p,2),b=d[0],v=d[1],h=o.includes(s.id)?"like-btn ml-2 p-2 text-dark bg-l-accent rounded hover:bg-dark hover:text-light focus:outline-none":"like-btn ml-2 p-2 text-dark rounded hover:bg-dark hover:text-light focus:outline-none";return a.a.createElement("li",{className:"blogentry mb-8 flex flex-col items-start"},a.a.createElement("div",{className:"flex items-center justify-between w-full"},a.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"border-l-8 border-l-accent px-2 hover:bg-dark text-dark hover:text-light"},a.a.createElement("h4",{className:"font-semibold font-display text-3xl"},t)),s&&c.id===s.id&&a.a.createElement("div",{className:b?"relative bg-l-accent rounded-b":"relative"},b&&a.a.createElement("div",{className:"fixed bg-transparent inset-0 z-0",onClick:function(){return v(!1)}}),a.a.createElement("button",{type:"button",onClick:function(){return v(!b)},className:"p-2 showdelete-btn text-dark rounded hover:bg-dark hover:text-light focus:outline-none"},a.a.createElement(X,null)),b&&a.a.createElement("div",{className:"absolute -mt-10 left-0 top-0 bg-l-accent rounded-t"},a.a.createElement("button",{type:"button",onClick:i,className:"delete-btn relative p-2 text-dark rounded bg-l-accent hover:bg-dark hover:text-light focus:outline-none"},a.a.createElement(ne,null))))),a.a.createElement("div",{className:"flex justify-between items-center w-full"},a.a.createElement("h5",{className:"font-semibold font-display text-dark text-lg"},"by ",n),a.a.createElement("div",{className:"flex items-center"},a.a.createElement("span",{className:"font-semibold text-dark"},o.length||"0"," ",o.length>1||!o.length?"likes":"like"),a.a.createElement("button",{type:"button",onClick:f,className:h},a.a.createElement(A,null)))),a.a.createElement("div",{className:"w-full flex justify-between"},a.a.createElement("span",{className:"text-xs text-dark"},"Posted by ",c.name," on ",u.split("T")[0])))});function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function le(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var oe=a.a.createElement("polyline",{points:"7 13 12 18 17 13"}),ce=a.a.createElement("polyline",{points:"7 6 12 11 17 6"}),se=function(e){var t=e.svgRef,n=e.title,r=le(e,["svgRef","title"]);return a.a.createElement("svg",ae({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6",ref:t},r),n?a.a.createElement("title",null,n):null,oe,ce)},ue=a.a.forwardRef((function(e,t){return a.a.createElement(se,ae({svgRef:t},e))})),ie=(n.p,function(e){var t=e.sendNewEntry,n=e.blogEntries,l=e.setShowLiked,o=e.showLiked,c=e.currentUser,s=e.sendDeleteEntry,u=e.sendNewLike,i=Object(r.useState)(""),f=Object(m.a)(i,2),p=f[0],d=f[1],b=Object(r.useState)(""),v=Object(m.a)(b,2),h=v[0],g=v[1],x=Object(r.useState)(""),y=Object(m.a)(x,2),k=y[0],E=y[1],O=Object(r.useState)(!1),w=Object(m.a)(O,2),j=w[0],N=w[1],S="font-sm font-semibold text-dark hover:bg-dark hover:text-light px-2 focus:outline-none border-b-4 border-light";return a.a.createElement("section",{className:"flex flex-col justify-start items-center text-dark font-display sm:rounded px-2 sm:px-0"},j?a.a.createElement(V,{createBlogEntry:function(e){e.preventDefault(),t({title:p,author:h,url:k}),d(""),g(""),E(""),N(!1)},titleInput:p,authorInput:h,urlInput:k,cancelCreateEntry:function(){return N(!1)},setTitleInput:d,setAuthorInput:g,setUrlInput:E}):a.a.createElement("div",{className:"w-full"},a.a.createElement("button",{type:"button",id:"createmodal-open",className:"p-2 flex justify-center font-sm font-semibold text-dark w-full bg-l-accent hover:bg-dark hover:text-light",onClick:function(){return N(!0)}},a.a.createElement(ue,null))),a.a.createElement("div",{className:"mt-8 flex items-center justify-evenly w-full p-2"},a.a.createElement("button",{className:o?"".concat(S):"".concat(S," border-dark"),type:"button",id:"filter-recent",onClick:function(){return l(!1)}},"most recent"),a.a.createElement("button",{className:o?"".concat(S," border-dark"):"".concat(S),type:"button",id:"filter-liked",onClick:function(){return l(!0)}},"top liked")),a.a.createElement("ul",{className:"py-8 flex flex-col w-full"},n.map((function(e){return a.a.createElement(re,{key:e.id,title:e.title,author:e.author,user:e.user,likes:e.likes,createdOn:e.createdOn,url:e.url,currentUser:c,sendDeleteEntry:function(){return s(e.id)},sendNewLike:function(){return u(e)}})}))))}),fe=n(5),me=n.n(fe),pe=function(){var e=Object(f.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat("/api","/blogs"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(f.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.post("".concat("/api","/blogs"),t,{headers:{Authorization:"Bearer ".concat(n)}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),be=function(){var e=Object(f.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.put("".concat("/api","/blogs/").concat(t.id),t,{headers:{Authorization:"Bearer ".concat(n)}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ve=function(){var e=Object(f.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.post("".concat("/api","/login"),{username:t,password:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=Object(f.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.post("".concat("/api","/users"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(f.a)(u.a.mark((function e(t,n,r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.delete("".concat("/api","/blogs/").concat(t),{headers:{Authorization:"Bearer ".concat(r)}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),xe=function(){var e=Object(r.useState)(null),t=Object(m.a)(e,2),n=t[0],l=t[1],o=Object(r.useState)([]),s=Object(m.a)(o,2),p=s[0],d=s[1],b=Object(r.useState)(!1),v=Object(m.a)(b,2),h=v[0],g=v[1],x=Object(r.useState)(null),y=Object(m.a)(x,2),k=y[0],E=y[1];Object(r.useEffect)((function(){var e=localStorage.getItem("user");e&&l(JSON.parse(e)),pe().then((function(e){d(e)}))}),[]);var O=function(){var e=Object(f.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de(t,n.token);case 3:r=e.sent,d(p.concat(Object(i.a)(Object(i.a)({},r),{},{user:{name:n.name,id:n.id,username:n.username}}))),R({text:"submitted new entry: ".concat(t.title),look:"green"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),R({text:"failed to submit: ".concat(e.t0.message,"!"),look:"red"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={username:t.username,id:t.user.id,name:t.user.name},console.log(t),e.prev=2,e.next=5,be(t,n.token);case 5:a=e.sent,d(p.map((function(e){return e.id!==t.id?e:Object(i.a)(Object(i.a)({},a),{},{user:r})}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),R({text:"action failed: ".concat(e.t0.message,"!"),look:"red"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(f.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge(t,n.id,n.token);case 3:d(p.filter((function(e){return e.id!==t}))),R({text:"deleted entry",look:"red"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),R({text:"action failed: ".concat(e.t0.message,"!"),look:"red"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve(t,n);case 3:r=e.sent,l(r),localStorage.setItem("user",JSON.stringify(r)),R({text:"login successful - hi, ".concat(r.name,"!"),look:"green"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.message.includes("401")?R({text:"login failed: username or password incorrect!",look:"red"}):R({text:"login failed: ".concat(e.t0.message),look:"red"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(u.a.mark((function e(t,n,r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={username:t,password:n,name:r},e.prev=1,e.next=4,he(a);case 4:N(t,n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.message.includes("400")?R({text:"signup failed: username already taken!",look:"red"}):R({text:"signup failed: ".concat(e.t0.message,"!"),look:"red"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),R=function(e){E(e),setTimeout((function(){E(null)}),1500)},L=h?Object(c.a)(p).sort((function(e,t){return t.likes.length-e.likes.length})):Object(c.a)(p).reverse();return a.a.createElement("main",{className:"sm:p-8 bg-light w-full min-h-screen flex justify-center"},a.a.createElement("div",{className:"max-w-screen-sm w-full"},a.a.createElement(C,{logout:function(){localStorage.removeItem("user"),l(null),R({text:"logged out",look:"green"})},notification:k,username:n?n.name:""}),n?a.a.createElement(ie,{sendNewEntry:O,blogEntries:L,showLiked:h,setShowLiked:g,currentUser:n,sendDeleteEntry:j,sendNewLike:w}):a.a.createElement(I,{setLogin:N,setSignup:S})))};o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(xe,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.c3d4cc72.chunk.js.map